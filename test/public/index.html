<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>jQuery easyXDM plugin test page for cross domain AJAX</title>
    <meta http=" " content="content" />
    <style type="text/css" media="screen">
      .success {
        background-color: #bbffbb;
        color: green;
        border: thin solid green;
      }
      .failed {
        background-color: #ffbbbb;
        color: red;
        border: thin solid red;
      }
    </style>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.easyXDM.js"></script>
    <script type="text/javascript">
      function doTheAjax(str,verb) {
        $.ajax({
          url: "http://bar.example.net:4567/test.js",
          method: verb,
          dataType: "json",
          data: {foo : "bar"},
          success: function(json) {
            var html = "<tr><td>" + str + "</td>";
            if (json.foo === "bar") {
              html += "<td class=\"success\">success</td>";
            } 
            else {
              console.log("JSON problem");
              console.log(json);
              html += "<td class=\"failed\">failed</td>";
            }
            $("body table").append(html + "</tr>");
          },
          error: function(qXHR, textStatus, errorThrown) {
            $("body table").append("<tr><td>" + str + "</td><td class=\"failed\">failed</td></tr>");
            console.log("In error callback");
            console.log(textStatus);
            console.log(errorThrown);
          }
        });
      }
      doTheAjax("jquery GET","GET");
      doTheAjax("jquery POST","POST");
      $.support.cors = false;
      doTheAjax("easyxdm GET","GET");
      doTheAjax("easyxdm POST","POST");
    </script>
  </head>
  <body>
    <h1>Testing ...</h1>
    <table>
    </table>
  </body>
</html>
